<!DOCTYPE HTML>
<html>
  <head>
        <title>How articles really work - Nara's Hub</title>
        <meta name="description" content="In this article, we'll talk about articles.">
        <meta name="keywords" content="project management, portfolio, product design, product designer, UI designer, UX designer, UX/UI designer, UI/UX designer">
        <meta name="author" content="Nara Rjb">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="article-styles.css">
        <link href='https://fonts.googleapis.com/css?family=IBM Plex Sans Condensed' rel='stylesheet'>
  </head>
  <body>
      <div class="main">
            <article class="content">
                  <h1>How Articles Really Work</h1>
                  <img class="cover" src="article.png" alt="articles" title="this is an article image"/>
                  <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam non ligula eget ex finibus imperdiet at id felis. Nullam fermentum mi in dolor cursus volutpat. Ut pharetra bibendum dictum. Nulla sit amet commodo velit. Integer auctor, lectus vitae varius vehicula, felis diam ornare lectus, nec pretium dolor nisi vel libero. Mauris vel maximus mi. Quisque ligula velit, fermentum vel libero eu, maximus mattis ligula.</p>
                  <p>Pellentesque tristique consectetur ipsum, eget volutpat nunc. Nulla facilisi. Praesent porttitor ante tellus, a convallis nibh lobortis nec. Nam mauris odio, mollis sed eros sit amet, efficitur malesuada nisl. Proin nec laoreet massa. Aliquam id leo eu ex pharetra tempor quis ac sapien. Praesent congue maximus elit ut semper. Etiam in dui ornare, dictum sem lacinia, aliquet urna.</p>
                  <p>Sed efficitur quam sit amet odio vehicula, in dapibus ipsum vestibulum. Vestibulum posuere egestas fringilla. Curabitur accumsan placerat porttitor. Suspendisse vitae nisi a libero pulvinar lobortis nec vitae nibh. In semper quam augue, quis bibendum massa fringilla placerat. In tempor tincidunt augue sed porta. Nunc fermentum interdum nunc id vestibulum. Phasellus vel auctor est.</p>
                  <p>Sed orci turpis, varius id quam eget, ultricies vestibulum lorem. Maecenas tempus convallis libero, eu facilisis ante rhoncus in. Fusce massa turpis, congue nec odio a, fringilla sagittis nulla. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Duis mollis sed leo tempus tincidunt. Maecenas vestibulum vestibulum sapien a finibus. Vestibulum et dictum lacus, at iaculis magna. Curabitur consectetur tortor et turpis cursus, eu blandit massa facilisis. Sed dapibus diam ac nulla iaculis varius. Aenean in sem augue. Mauris tempus consequat ligula faucibus convallis. Phasellus luctus nisl sed vulputate efficitur. Donec eget tellus et sapien feugiat scelerisque.</p>
                  <p>Donec vitae rhoncus massa. Vestibulum non pulvinar neque. Integer lectus justo, pellentesque sit amet interdum id, hendrerit id velit. Quisque vehicula nisl ex, id fermentum ante tincidunt in. Morbi malesuada commodo accumsan. Ut sed dignissim justo, et pharetra nibh. Maecenas facilisis maximus massa et dictum. Interdum et malesuada fames ac ante ipsum primis in faucibus. Mauris ac dignissim sem, eu egestas libero. Mauris ut feugiat lacus. Donec accumsan risus a nisi aliquet, eget commodo diam aliquet. Maecenas et ante malesuada lacus tincidunt finibus. Integer vulputate vehicula neque tempor    tempor. Phasellus at dui eu mi porttitor varius. Quisque eu lacus quam. Aliquam pulvinar malesuada ex at condimentum.</p>
                  <p>Donec vitae rhoncus massa. Vestibulum non pulvinar neque. Integer lectus justo, pellentesque sit amet interdum id, hendrerit id velit. Quisque vehicula nisl ex, id fermentum ante tincidunt in. Morbi malesuada commodo accumsan. Ut sed dignissim justo, et pharetra nibh. Maecenas facilisis maximus massa et dictum. Interdum et malesuada fames ac ante ipsum primis in faucibus. Mauris ac dignissim sem, eu egestas libero. Mauris ut feugiat lacus. Donec accumsan risus a nisi aliquet, eget commodo diam aliquet. Maecenas et ante malesuada lacus tincidunt finibus. Integer vulputate vehicula neque tempor    tempor. Phasellus at dui eu mi porttitor varius. Quisque eu lacus quam. Aliquam pulvinar malesuada ex at condimentum.</p>
                  <p>Donec vitae rhoncus massa. Vestibulum non pulvinar neque. Integer lectus justo, pellentesque sit amet interdum id, hendrerit id velit. Quisque vehicula nisl ex, id fermentum ante tincidunt in. Morbi malesuada commodo accumsan. Ut sed dignissim justo, et pharetra nibh. Maecenas facilisis maximus massa et dictum. Interdum et malesuada fames ac ante ipsum primis in faucibus. Mauris ac dignissim sem, eu egestas libero. Mauris ut feugiat lacus. Donec accumsan risus a nisi aliquet, eget commodo diam aliquet. Maecenas et ante malesuada lacus tincidunt finibus. Integer vulputate vehicula neque tempor    tempor. Phasellus at dui eu mi porttitor varius. Quisque eu lacus quam. Aliquam pulvinar malesuada ex at condimentum.</p>

            </article>
      </div>
      <script>
            console.clear();

            (function(){
  
            var doc = document,
                  docEl = document.documentElement,
                  body = doc.body,
                  win = window;

            var minimap = doc.createElement('div'),
                  minimapSize = doc.createElement('div'),
                  minimapController = doc.createElement('div'),
                  minimapContent = doc.createElement('iframe'),
                  scale = 0.2,
                  realScale = scale;

            minimap.className = 'minimap';
            minimapSize.className = 'minimap-size';
            minimapController.className = 'minimap-controller';

            minimapContent.className += ' minimap-content';
            minimapContent.style.transformOrigin = '0 0';

            minimap.appendChild(minimapSize);
            minimap.appendChild(minimapController);
            minimap.appendChild(minimapContent);
            body.appendChild(minimap);

            var html = doc.documentElement.outerHTML
                  .replace(/<script([\s\S]*?)>([\s\S]*?)<\/script>/gim, '');

            var script = '<script>var minimap=document.querySelector(".minimap"); minimap.parentNode.removeChild(minimap);<'+'/script>';
      

            html = html.replace('</body>',script + '</body>');

            var iframeDoc = minimapContent.contentWindow.document;
  
            iframeDoc.open();
            iframeDoc.write(html);
            iframeDoc.close();


            function getDimensions() {
                  let bodyWidth = docEl.clientWidth,
                        bodyHeight = body.scrollHeight,
                        bodyRatio = bodyHeight / bodyWidth,
                        winRatio = win.innerHeight / win.innerWidth;

                  minimap.style.width = (scale * 100) + '%';
                  

                  realScale = minimap.clientWidth / bodyWidth;
                  

                  minimapSize.style.paddingTop = (bodyRatio * 100) + '%';
                  minimapController.style.paddingTop = (winRatio * 100) + '%';
  
                  minimapContent.style.transform = 'scale(' + realScale + ')';
                  minimapContent.style.width = (116 / realScale) + '%';
                  minimapContent.style.height = (100 / realScale) + '%';
            }

            getDimensions();
            win.addEventListener('resize', getDimensions);
            win.addEventListener('load', getDimensions);
  
            function trackScroll(){
                  minimapController.style.transform = 'translate(' +
                  ((win.pageXOffset * realScale)) + 'px, ' +
                  ((win.pageYOffset * realScale)) + 'px)';
            }
                       
            win.addEventListener('scroll', trackScroll);

            var mouseY = 0,
            mouseX = 0,
            mouseDown = false;

            function pointerDown(e){
                  e.preventDefault();
                  mouseDown = true;
                  mouseX = e.touches ? e.touches[0].clientX : e.clientX;
                  mouseY = e.touches ? e.touches[0].clientY : e.clientY;

                  var offsetX = ((mouseX - minimap.offsetLeft) - (minimapController.clientWidth / 2)) / realScale;
                  var offsetY = ((mouseY - minimap.offsetTop) - (minimapController.clientHeight / 2)) / realScale;

                  win.scrollTo(offsetX, offsetY);
            }

            minimap.addEventListener('mousedown', pointerDown); 
            minimap.addEventListener('touchdown', pointerDown); 

            function pointerMove(e) {
                  if (mouseDown) {
                        e.preventDefault();

                        var x = e.touches ? e.touches[0].clientX : e.clientX,
                        y = e.touches ? e.touches[0].clientY : e.clientY;

                        win.scrollBy((x - mouseX) / realScale, ((y - mouseY) / realScale));
                        mouseX = x;
                        mouseY = y;
                  }
            }

            win.addEventListener('mousemove', pointerMove);
            win.addEventListener('touchmove', pointerMove);

            function pointerReset(e) { mouseDown = false; }
            win.addEventListener('mouseup', pointerReset);
            win.addEventListener('touchend', pointerReset);

            function pointerLeave(e){
                  if ( e.target === body ) { mouseDown = false; }
            }

            body.addEventListener('mouseleave', pointerLeave);
            body.addEventListener('touchleave', pointerLeave);

            }())
      
      </script>
  </body>
</html>
